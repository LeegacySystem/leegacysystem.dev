<!DOCTYPE html>
<html lang="en">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <title>
  Juniper MAC Limiting Study Notes · Leegacy System
</title>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark">




<meta name="author" content="Lee Dowdells">
<meta name="description" content="This post will take a quick look into the three types of MAC Limiting available in Juniper.
This post will take a quick look into the three types of STP Protection available in Juniper including an example diagram of where to use each.
MAC Limit (mac-limit):Link to headingAllows for the admin to define the maximum number of expected MAC addresses for a specific port. If that value is set to 2 and a third MAC arrives at the interface, traffic from that MAC is subject to later action conditions but by default will be dropped and logged.">
<meta name="keywords" content="blog, devops, neteng, juniper">
<meta name="fediverse:creator" content="" />


  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Juniper MAC Limiting Study Notes">
  <meta name="twitter:description" content="This post will take a quick look into the three types of MAC Limiting available in Juniper.
This post will take a quick look into the three types of STP Protection available in Juniper including an example diagram of where to use each.
MAC Limit (mac-limit):Link to headingAllows for the admin to define the maximum number of expected MAC addresses for a specific port. If that value is set to 2 and a third MAC arrives at the interface, traffic from that MAC is subject to later action conditions but by default will be dropped and logged.">

<meta property="og:url" content="https://www.leegacysystem.dev:1313/posts/juniper_mac_limiting_study_notes/">
  <meta property="og:site_name" content="Leegacy System">
  <meta property="og:title" content="Juniper MAC Limiting Study Notes">
  <meta property="og:description" content="This post will take a quick look into the three types of MAC Limiting available in Juniper.
This post will take a quick look into the three types of STP Protection available in Juniper including an example diagram of where to use each.
MAC Limit (mac-limit):Link to headingAllows for the admin to define the maximum number of expected MAC addresses for a specific port. If that value is set to 2 and a third MAC arrives at the interface, traffic from that MAC is subject to later action conditions but by default will be dropped and logged.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2019-03-31T12:04:00+00:00">
    <meta property="article:modified_time" content="2019-03-31T12:04:00+00:00">
    <meta property="article:tag" content="Juniper">
    <meta property="article:tag" content="Routing">
    <meta property="article:tag" content="JNCIS-ENT">
    <meta property="article:tag" content="MAC_Sec">
    <meta property="article:tag" content="L2SEC">




<link rel="canonical" href="https://www.leegacysystem.dev:1313/posts/juniper_mac_limiting_study_notes/">


<link rel="preload" href="/fonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin>


  
  
  <link rel="stylesheet" href="/css/coder.css" media="screen">






  
    
    
    <link rel="stylesheet" href="/css/coder-dark.css" media="screen">
  



 




<link rel="icon" type="image/svg+xml" href="/images/site/favicon.svg" sizes="any">
<link rel="icon" type="image/png" href="/images/site/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/images/site/favicon-16x16.png" sizes="16x16">

<link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#5bbad5">









</head>






<body class="preload-transitions colorscheme-dark">
  
<div class="float-container">
    <a id="dark-mode-toggle" class="colorscheme-toggle">
        <i class="fa-solid fa-adjust fa-fw" aria-hidden="true"></i>
    </a>
</div>


  <main class="wrapper">
    <nav class="navigation">
  <section class="container">
    
    <a class="navigation-title" href="https://www.leegacysystem.dev:1313/">
      Leegacy System
    </a>
    
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa-solid fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link " href="/posts/">Blog</a>
            </li>
          
        
        
      </ul>
    
  </section>
</nav>


    <div class="content">
      
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">
            <a class="title-link" href="https://www.leegacysystem.dev:1313/posts/juniper_mac_limiting_study_notes/">
              Juniper MAC Limiting Study Notes
            </a>
          </h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fa-solid fa-calendar" aria-hidden="true"></i>
              <time datetime="2019-03-31T12:04:00Z">
                March 31, 2019
              </time>
            </span>
            <span class="reading-time">
              <i class="fa-solid fa-clock" aria-hidden="true"></i>
              3-minute read
            </span>
          </div>
          
          <div class="categories">
  <i class="fa-solid fa-folder" aria-hidden="true"></i>
    <a href="/categories/juniper/">Juniper</a></div>

          <div class="tags">
  <i class="fa-solid fa-tag" aria-hidden="true"></i>
    <span class="tag">
      <a href="/tags/juniper/">Juniper</a>
    </span>
      <span class="separator">•</span>
    <span class="tag">
      <a href="/tags/routing/">Routing</a>
    </span>
      <span class="separator">•</span>
    <span class="tag">
      <a href="/tags/jncis-ent/">JNCIS-ENT</a>
    </span>
      <span class="separator">•</span>
    <span class="tag">
      <a href="/tags/mac_sec/">MAC_Sec</a>
    </span>
      <span class="separator">•</span>
    <span class="tag">
      <a href="/tags/l2sec/">L2SEC</a>
    </span></div>

        </div>
      </header>

      <div class="post-content">
        
        <p>This post will take a quick look into the three types of MAC Limiting available in Juniper.</p>
<p>This post will take a quick look into the three types of STP Protection available in Juniper including an example diagram of where to use each.</p>
<h4 id="mac-limit-mac-limit">
  <strong>MAC Limit (mac-limit):</strong>
  <a class="heading-link" href="#mac-limit-mac-limit">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h4>
<p>Allows for the admin to define the maximum number of expected MAC addresses for a specific port. If that value is set to 2 and a third MAC arrives at the interface, traffic from that MAC is subject to later action conditions but by default will be dropped and logged.</p>
<h4 id="allowed-mac-allowed-mac">
  <strong>Allowed MAC (allowed-mac):</strong>
  <a class="heading-link" href="#allowed-mac-allowed-mac">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h4>
<p>This option allows the admin to define the exact MAC addresses that should arrive at the interface rather than the number of them. Again if an unexpected MAC address arrives at the interface traffic from that MAC is subject to later action conditions but by default will be dropped and logged. The down side of doing allowed MACs is that it requires more administrative effort as the MAC must be known and configured.</p>
<h4 id="mac-move-limiting-mac-move-limit">
  <strong>MAC move limiting (mac-move-limit):</strong>
  <a class="heading-link" href="#mac-move-limiting-mac-move-limit">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h4>
<p>This option will limit the amount of times that a specific MAC address can move within the network and is configured on a per vlan basis. Again if an unexpected MAC address arrives at the interface traffic from that MAC is subject to later action conditions but by default will be dropped and logged. MAC limiting protects against MAC flooding and spoofing that can be used as a DOS attack.</p>
<p>When using MAC limiting in any form it is important to think about the needs of the environment as well as security. For example if your environment has IP phones hooked up to computers both sharing the same physical access port, then the MAC limit will have to be at least two for both devices to work.</p>
<p>All three types of limiting share the same three (excluding the off action) configurable actions:</p>
<ol>
  <li><i>Syslog</i> – Forwards the packet but generates a system alarm.</li>
  <li><i>Drop & Syslog</i> – Drops the offending MAC packet and generates an alarm.</li>
  <li><i>Shutdown (& Syslog)</i> – Shutdown the interface and generates an alarm.</li>
  <li><i>None</i> – Turns off MAC limiting for a specific port if it has been enabled on all interfaces.</li>
</ol>
<h4 id="auto-recovery">
  <strong>Auto recovery:</strong>
  <a class="heading-link" href="#auto-recovery">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h4>
<p>If desired a timer can be configured between 10 and 3600 seconds at &ldquo;edit ethernet-switching-options port-error-disable disable-timeout&rdquo; that will roll back the configured action after the timeout expires.  The alternative and default is for the action to apply until the admin manually clears the port error.</p>

      </div>


      <footer>
        


        
        
        
        
        

        
        
      </footer>
    </article>

    
  </section>

    </div>

    <footer class="footer">
  <section class="container">
    All posts are my own ramblings... sorry study notes.
  </section>
</footer>

  </main>

  

  
  
  <script src="/js/coder.js"></script>
  

  

  


  
  



  

  

  

  
<script defer src='https://static.cloudflareinsights.com/beacon.min.js'
        data-cf-beacon='{"token": "a3e23d0e9f3541179b1ae8f47639e993"}'></script>



  

  

  

  

  

  

  

  

  

  

  
</body>

</html>
