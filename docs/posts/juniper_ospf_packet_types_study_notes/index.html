<!DOCTYPE html>
<html lang="en">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <title>
  Juniper OSPF Packet Types Study Notes · Leegacy System
</title>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark">




<meta name="author" content="Lee Dowdells">
<meta name="description" content="This post will take a quick look into the five types of OSPF packets.
OSPF is a dynamic routing protocol used as an interior gateway protocol (IGP). Unlinke BGP which is implemented over TCP, OSPF is its own IP protocol (89) different from TCP or UDP. As such the protocol has its own packet formats which are all reviewed below.
OSPF Common Header:
Link to heading
Each of the five OSPF packet types start with a common 24 byte header as shown below.">
<meta name="keywords" content="blog, devops, neteng, juniper">
<meta name="fediverse:creator" content="" />


  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Juniper OSPF Packet Types Study Notes">
  <meta name="twitter:description" content="This post will take a quick look into the five types of OSPF packets.
OSPF is a dynamic routing protocol used as an interior gateway protocol (IGP). Unlinke BGP which is implemented over TCP, OSPF is its own IP protocol (89) different from TCP or UDP. As such the protocol has its own packet formats which are all reviewed below.
OSPF Common Header:https://www.leegacysystem.dev/
Link to heading
Each of the five OSPF packet types start with a common 24 byte header as shown below.">

<meta property="og:url" content="http://localhost:1313/posts/juniper_ospf_packet_types_study_notes/">
  <meta property="og:site_name" content="Leegacy System">
  <meta property="og:title" content="Juniper OSPF Packet Types Study Notes">
  <meta property="og:description" content="This post will take a quick look into the five types of OSPF packets.
OSPF is a dynamic routing protocol used as an interior gateway protocol (IGP). Unlinke BGP which is implemented over TCP, OSPF is its own IP protocol (89) different from TCP or UDP. As such the protocol has its own packet formats which are all reviewed below.
OSPF Common Header:
Link to heading
Each of the five OSPF packet types start with a common 24 byte header as shown below.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2019-03-30T15:05:00+00:00">
    <meta property="article:modified_time" content="2019-03-30T15:05:00+00:00">
    <meta property="article:tag" content="Juniper">
    <meta property="article:tag" content="Routing">
    <meta property="article:https://www.leegacysystem.dev/T">
    <meta property="article:tag" content="OSPF">




<link rel="canonical" href="http://localhost:1313/posts/juniper_ospf_packet_types_study_notes/">


<link rel="preload" href="/fonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin>


  
  
  <link rel="stylesheet" href="/css/coder.css" media="screen">






  
    
    
    <link rel="stylesheet" href="/css/coder-dark.css" media="screen">
  



 




<link rel="icon" type="image/svg+xml" href="/images/site/favicon.svg" sizes="any">
<link rel="icon" type="image/png" href="/images/site/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/images/site/favicon-16x16.png" sizes="16x16">

<link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#5bbad5">









</head>






<body class="preload-transitions colorscheme-dark">
  
<div class="float-container">
    <a id="dark-mode-toggle" class="colorscheme-toggle">
        <i class="fa-solid fa-adjust fa-fw" aria-hidden="true"></i>
    </a>
</div>
https://www.leegacysystem.dev/

  <main class="wrapper">
    <nav class="navigation">
  <section class="container">
    
    <a class="navigation-title" href="http://localhost:1313/">
      Leegacy System
    </a>
    
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa-solid fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link " href="/posts/">Blog</a>
            </li>
          
        
        
      </ul>
    
  </section>
</nav>


    <div class="content">
      https://www.leegacysystem.dev/
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">
            <a class="title-link" href="http://localhost:1313/posts/juniper_ospf_packet_types_study_notes/">
              Juniper OSPF Packet Types Study Notes
            </a>
          </h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fa-solid fa-calendar" aria-hidden="true"></i>
              <time datetime="2019-03-30T15:05:00Z">
                March 30, 2019
              </time>
            </span>
            <span class="reading-time">
              <i class="fa-solid fa-clock" aria-hidden="true"></i>
              3-minute read
            </span>
          </div>
          
          <div class="categories">
  <i class="fa-solid fa-folder" aria-hidden="true"></i>
    <a href="/categories/juniper/">Juniper</a></div>

          <div class="tags">
  <i class="fa-solid fa-tag" aria-hidden="true"></i>
    <span class="tag">
      <a href="/tags/juniper/">Juniper</a>
    </span>
      <span class="separator">•</span>
    <span class="tag">
      <a href="/tags/routing/">Routing</a>
    </span>
      <span class="separator">•</span>
    <span class="tag">
      <a href="/tags/jncis-ent/">JNCIS-ENT</a>
    </span>
      <span class="separator">•</span>
    <span class="tag">
      <a href="/tags/ospf/">OSPF</a>
    </span></div>

        </div>
      </header>

      <div class="post-content">
        
        <p>This post will take a quick look into the five types of OSPF packets.</p>
<p>OSPF is a dynamic routing protocol used as an interior gateway protocol (IGP). Unlinke BGP which is implemented over TCP, OSPF is its own IP protocol (89) different from TCP or UDP. As such the protocol has its own packet formats which are all reviewed below.</p>
<h4 id="ospf-common-header">
  <strong>OSPF Common Header:</strong>
  <a class="heading-link" href="#ospf-common-header">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h4>
<p>Each of the five OSPF packet types start with a common 24 byte header as shown below. This header identifies the OSPF version and packet type, along with the router and area ID of the sender. If implemented authentication will also be handled by the common header.</p>
<p><a href="/images/posts/2019/01/capture.png"><img src="/images/posts/2019/03/OSPF_Packets-Common Header.png" width="720" ></p>
<h4 id="ospf-hello-packet-type-1">
  <strong>OSPF Hello Packet (type 1):</strong>
  <a class="heading-link" href="#ospf-hello-packet-type-1">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h4>
<p>The hello packet is used for discover adjancies and form neighbours. The Network Mask, Hellow/Dead Intervals and options must all match for a neighbour relationship to form. These packets are sent periodcally out all interfaces including virtual links. In a multiaccess broadcast network hello packets will be sent to the multicast address of 224.0.0.5 which translates to all OSPF routers, 224.0.0.6 is all DR routers.</p>
<p>The diagram below shows the structure of a hello packet including the OSPF common header with dotted lines. Note how the common header defines the following packet as type 1.</p>
<p><a href="/images/posts/2019/01/capture.png"><img src="/images/posts/2019/03/OSPF_Packets-Hello Packet.png" width="720" ></p>
<h4 id="ospf-database-description-packet-type-2">
  <strong>OSPF Database Description Packet (type 2):</strong>
  <a class="heading-link" href="#ospf-database-description-packet-type-2">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h4>
<p>The DDP is the second type of OSPF packet and are exchanged between two OSPF routers when the adjacency is forming. One or more of these packets will be sent to define and synchronise the link-state database between OSPF routers. THE DDP excahnge process involves one router acting as the master and the other as a slave for the exchange. The OSPF router with the higest Router ID will take the mastership role in the exchange.</p>
<p><a href="/images/posts/2019/01/capture.png"><img src="/images/posts/2019/03/OSPF_Packets-DDP-Packet.png" width="720" ></p>
<h4 id="ospf-link-state-request-type-3">
  <strong>OSPF Link State Request (type 3):</strong>
  <a class="heading-link" href="#ospf-link-state-request-type-3">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h4>
<p>LSR packets are sent by an OSPF router after the DDP exchange when the router detects it is missing information from its link-state database. The LSR is sent to neighbours requesting the missing or more up-to-date inforamtion. An LSR can contain multiple requests for LSA inforamtion.</p>
<p><a href="/images/posts/2019/01/capture.png"><img src="/images/posts/2019/03/OSPF_Packets-LSR_Packet.png" width="720" ></p>
<h4 id="ospf-link-state-update-type-4">
  <strong>OSPF Link State Update (type 4):</strong>
  <a class="heading-link" href="#ospf-link-state-update-type-4">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h4>
<p>LSUs are the flooding mechanism used to send Link-State Advertisements. Each LSU can carry on or mora LSAs one hop further than the origin. The follow OSPF packet type is used to acknowledge the reciept of an LSU, if no ack is recieved the LSU is sent again directly to the neighbour to ensure reliable transmission and a converged link-state database between all OSPF devices.</p>
<p><a href="/images/posts/2019/01/capture.png"><img src="/images/posts/2019/03/OSPF_Packets-LSU_Packet.png" width="720" ></p>
<h4 id="ospf-link-state-acknowledgement-type-5">
  <strong>OSPF Link State Acknowledgement (type 5):</strong>
  <a class="heading-link" href="#ospf-link-state-acknowledgement-type-5">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h4>
<p>As previously mentioned an Acknowledgement has to be sent in response to an LSU to acknowledge that the reciever obtained all LSAs within the LSU. One packet can be used to acknowledge multiple LSAs.</p>
<p><a href="/images/posts/2019/01/capture.png"><img src="/images/posts/2019/03/OSPF_Packets-LSA_(Ack)_packet.png" width="720" ></p>

      </div>


      <footer>
        


        
        
        
        
        

        
        
      </footer>
    </article>

    
  </section>

    </div>

    <footer class="footer">
  <section class="container">
    All posts are my own ramblings... sorry study notes.
  </section>
</footer>

  </main>

  

  
  
  <script src="/js/coder.js"></script>
  

  

  


  
  



  

  

  

  

  

  

  

  

  

  

  

  

  

  

  
</body>

</html>
