<!DOCTYPE html>
<html lang="en">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <title>
  Junos BGP States Study Notes · Leegacy System
</title>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark">




<meta name="author" content="Lee Dowdells">
<meta name="description" content="This post will take a quick look into the BGP Finite State model.
IDLE:Link to headingThis is the first state and essentially means a session is inactive waiting for a start event which can be manual or automatic. I&rsquo;ll need to look into Junipers definitions of a start event.
Connect:Link to headingAfter a start event BGP will try to establish a TCP connection. A session will remain in the Connect state until either a TCP session is formed or the TCP handshake failed.">
<meta name="keywords" content="blog, devops, neteng, juniper">
<meta name="fediverse:creator" content="" />


  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Junos BGP States Study Notes">
  <meta name="twitter:description" content="This post will take a quick look into the BGP Finite State model.
IDLE:Link to headingThis is the first state and essentially means a session is inactive waiting for a start event which can be manual or automatic. I’ll need to look into Junipers definitions of a start event.
Connect:Link to headingAfter a start event BGP will try to establish a TCP connection. A session will remain in the Connect state until either a TCP session is formed or the TCP handshake failed.">

<meta property="og:url" content="https://www.leegacysystem.dev:1313/posts/junos_bgp_states_study_notes/">
  <meta property="og:site_name" content="Leegacy System">
  <meta property="og:title" content="Junos BGP States Study Notes">
  <meta property="og:description" content="This post will take a quick look into the BGP Finite State model.
IDLE:Link to headingThis is the first state and essentially means a session is inactive waiting for a start event which can be manual or automatic. I’ll need to look into Junipers definitions of a start event.
Connect:Link to headingAfter a start event BGP will try to establish a TCP connection. A session will remain in the Connect state until either a TCP session is formed or the TCP handshake failed.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2019-04-10T12:59:00+00:00">
    <meta property="article:modified_time" content="2019-04-10T12:59:00+00:00">
    <meta property="article:tag" content="Juniper">
    <meta property="article:tag" content="Routing">
    <meta property="article:tag" content="JNCIS-ENT">
    <meta property="article:tag" content="BGP">




<link rel="canonical" href="https://www.leegacysystem.dev:1313/posts/junos_bgp_states_study_notes/">


<link rel="preload" href="/fonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin>


  
  
  <link rel="stylesheet" href="/css/coder.css" media="screen">






  
    
    
    <link rel="stylesheet" href="/css/coder-dark.css" media="screen">
  



 




<link rel="icon" type="image/svg+xml" href="/images/site/favicon.svg" sizes="any">
<link rel="icon" type="image/png" href="/images/site/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/images/site/favicon-16x16.png" sizes="16x16">

<link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#5bbad5">









</head>






<body class="preload-transitions colorscheme-dark">
  
<div class="float-container">
    <a id="dark-mode-toggle" class="colorscheme-toggle">
        <i class="fa-solid fa-adjust fa-fw" aria-hidden="true"></i>
    </a>
</div>


  <main class="wrapper">
    <nav class="navigation">
  <section class="container">
    
    <a class="navigation-title" href="https://www.leegacysystem.dev:1313/">
      Leegacy System
    </a>
    
    
  </section>
</nav>


    <div class="content">
      
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">
            <a class="title-link" href="https://www.leegacysystem.dev:1313/posts/junos_bgp_states_study_notes/">
              Junos BGP States Study Notes
            </a>
          </h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fa-solid fa-calendar" aria-hidden="true"></i>
              <time datetime="2019-04-10T12:59:00Z">
                April 10, 2019
              </time>
            </span>
            <span class="reading-time">
              <i class="fa-solid fa-clock" aria-hidden="true"></i>
              2-minute read
            </span>
          </div>
          
          <div class="categories">
  <i class="fa-solid fa-folder" aria-hidden="true"></i>
    <a href="/categories/juniper/">Juniper</a></div>

          <div class="tags">
  <i class="fa-solid fa-tag" aria-hidden="true"></i>
    <span class="tag">
      <a href="/tags/juniper/">Juniper</a>
    </span>
      <span class="separator">•</span>
    <span class="tag">
      <a href="/tags/routing/">Routing</a>
    </span>
      <span class="separator">•</span>
    <span class="tag">
      <a href="/tags/jncis-ent/">JNCIS-ENT</a>
    </span>
      <span class="separator">•</span>
    <span class="tag">
      <a href="/tags/bgp/">BGP</a>
    </span></div>

        </div>
      </header>

      <div class="post-content">
        
        <p>This post will take a quick look into the BGP Finite State model.</p>
<p><a href="/images/posts/2019/07/BGP_States.png"><img src="/images/posts/2019/07/BGP_States.png" width="720" ></p>
<h4 id="idle">
  <strong>IDLE:</strong>
  <a class="heading-link" href="#idle">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h4>
<p>This is the first state and essentially means a session is inactive waiting for a start event which can be manual or automatic. I&rsquo;ll need to look into Junipers definitions of a start event.</p>
<h4 id="connect">
  <strong>Connect:</strong>
  <a class="heading-link" href="#connect">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h4>
<p>After a start event BGP will try to establish a TCP connection. A session will remain in the Connect state until either a TCP session is formed or the TCP handshake failed.</p>
<h4 id="active">
  <strong>Active:</strong>
  <a class="heading-link" href="#active">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h4>
<p>Should the TCP handshake fail BGP will transition the session into the Active state and reattempt to form a TCP session. If this again fails BGP will pass the session back to the connect state, this process will repeat until a TCP handshake is established or the BGP session is set back to IDLE.</p>
<h4 id="opensent">
  <strong>OpenSent:</strong>
  <a class="heading-link" href="#opensent">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h4>
<p>Once the TCP session is established BGP will send an Open packet detailing some BGP information that should be negatiated between peers.</p>
<h4 id="openconfirm">
  <strong>OpenConfirm:</strong>
  <a class="heading-link" href="#openconfirm">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h4>
<p>A keepalive message is follow the Open message to confirm the peer recieved the Open packet. Once the keepalive packet is recieved it will transition to established.</p>
<h4 id="established">
  <strong>Established:</strong>
  <a class="heading-link" href="#established">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h4>
<p>All systems are go! The final and steady state for BGP is established. In this state routing information can be exchanged between peers. This is often the state to monitor for via SNMP or your other choice of monitoring poision.</p>

      </div>


      <footer>
        


        
        
        
        
        

        
        
      </footer>
    </article>

    
  </section>

    </div>

    <footer class="footer">
  <section class="container">
    All posts are my own ramblings... sorry study notes.
  </section>
</footer>

  </main>

  

  
  
  <script src="/js/coder.js"></script>
  

  

  


  
  



  

  

  

  
<script defer src='https://static.cloudflareinsights.com/beacon.min.js'
        data-cf-beacon='{"token": "a3e23d0e9f3541179b1ae8f47639e993"}'></script>



  

  

  

  

  

  

  

  

  

  

  
</body>

</html>
